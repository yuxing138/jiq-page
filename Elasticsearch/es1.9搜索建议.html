<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>/ | YuXing138</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.9f84806b.css" as="style"><link rel="preload" href="/assets/js/app.7ad2db50.js" as="script"><link rel="preload" href="/assets/js/2.ae7b2f73.js" as="script"><link rel="preload" href="/assets/js/1.5784faf9.js" as="script"><link rel="preload" href="/assets/js/33.2be8917e.js" as="script"><link rel="prefetch" href="/assets/js/10.11cd5bbe.js"><link rel="prefetch" href="/assets/js/11.d6f242fd.js"><link rel="prefetch" href="/assets/js/12.52955fb8.js"><link rel="prefetch" href="/assets/js/13.0171e0e6.js"><link rel="prefetch" href="/assets/js/14.e8630228.js"><link rel="prefetch" href="/assets/js/15.e3fe6a55.js"><link rel="prefetch" href="/assets/js/16.ed16aad5.js"><link rel="prefetch" href="/assets/js/17.9f06ecf6.js"><link rel="prefetch" href="/assets/js/18.4c170722.js"><link rel="prefetch" href="/assets/js/19.66f6de90.js"><link rel="prefetch" href="/assets/js/20.2e3db1a8.js"><link rel="prefetch" href="/assets/js/21.ce1d45a6.js"><link rel="prefetch" href="/assets/js/22.da4a9ea1.js"><link rel="prefetch" href="/assets/js/23.497babad.js"><link rel="prefetch" href="/assets/js/24.26a55b7b.js"><link rel="prefetch" href="/assets/js/25.74223202.js"><link rel="prefetch" href="/assets/js/26.e22a5582.js"><link rel="prefetch" href="/assets/js/27.88055a3e.js"><link rel="prefetch" href="/assets/js/28.c0038d39.js"><link rel="prefetch" href="/assets/js/29.0f971c3a.js"><link rel="prefetch" href="/assets/js/3.e5de98dd.js"><link rel="prefetch" href="/assets/js/30.0f08cc8c.js"><link rel="prefetch" href="/assets/js/31.01cbf061.js"><link rel="prefetch" href="/assets/js/32.375af1d9.js"><link rel="prefetch" href="/assets/js/34.582c748e.js"><link rel="prefetch" href="/assets/js/35.e1b685ff.js"><link rel="prefetch" href="/assets/js/36.621719a0.js"><link rel="prefetch" href="/assets/js/37.e1caea83.js"><link rel="prefetch" href="/assets/js/38.f1b71f6b.js"><link rel="prefetch" href="/assets/js/39.db15b014.js"><link rel="prefetch" href="/assets/js/4.45665f8a.js"><link rel="prefetch" href="/assets/js/40.e5dc69c4.js"><link rel="prefetch" href="/assets/js/41.fd4968d3.js"><link rel="prefetch" href="/assets/js/42.21095c53.js"><link rel="prefetch" href="/assets/js/43.03c95434.js"><link rel="prefetch" href="/assets/js/44.334f7f93.js"><link rel="prefetch" href="/assets/js/45.4314cbfb.js"><link rel="prefetch" href="/assets/js/46.be0503e9.js"><link rel="prefetch" href="/assets/js/47.fff1dbd8.js"><link rel="prefetch" href="/assets/js/48.e1dbb4ac.js"><link rel="prefetch" href="/assets/js/49.e279e080.js"><link rel="prefetch" href="/assets/js/5.9221cc65.js"><link rel="prefetch" href="/assets/js/50.e1f5fea5.js"><link rel="prefetch" href="/assets/js/51.c02e0837.js"><link rel="prefetch" href="/assets/js/52.bab5cdf2.js"><link rel="prefetch" href="/assets/js/53.72c86e04.js"><link rel="prefetch" href="/assets/js/54.2d135dde.js"><link rel="prefetch" href="/assets/js/55.a3e4a681.js"><link rel="prefetch" href="/assets/js/56.6f63169b.js"><link rel="prefetch" href="/assets/js/57.e9d15e4e.js"><link rel="prefetch" href="/assets/js/6.08529f20.js"><link rel="prefetch" href="/assets/js/7.d6f7c6a1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9f84806b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">YuXing138</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Clouder Menu" class="dropdown-title"><span class="title">Clouder</span> <span class="arrow down"></span></button> <button type="button" aria-label="Clouder Menu" class="mobile-dropdown-title"><span class="title">Clouder</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Clouder/Clouder.html" class="nav-link">
  Clouder
</a></li><li class="dropdown-item"><!----> <a href="/Clouder/Clouder源码介绍.html" class="nav-link">
  Clouder源码介绍
</a></li><li class="dropdown-item"><!----> <a href="/Clouder/怎么开源.html" class="nav-link">
  怎么开源
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Elasticsearch Menu" class="dropdown-title"><span class="title">Elasticsearch</span> <span class="arrow down"></span></button> <button type="button" aria-label="Elasticsearch Menu" class="mobile-dropdown-title"><span class="title">Elasticsearch</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.1环境安装.html" class="nav-link">
  es1.1环境安装
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.2一些概念.html" class="nav-link">
  es1.2一些概念
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.3一些API.html" class="nav-link">
  es1.3一些API
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.4查询.html" class="nav-link">
  es1.4查询
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.5聚合查询.html" class="nav-link">
  es1.5聚合查询
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.6ORM.html" class="nav-link">
  es1.6ORM
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.7分析器.html" class="nav-link">
  es1.7分析器
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.8脚本语言.html" class="nav-link">
  es1.8脚本语言
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.9搜索建议.html" class="nav-link">
  es1.9搜索建议
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.1高可用性.html" class="nav-link">
  es2.1高可用性
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.2搜索查询.html" class="nav-link">
  es2.2搜索查询
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.3倒排索引.html" class="nav-link">
  es2.3倒排索引
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.4地理查询.html" class="nav-link">
  es2.4地理查询
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.5一些概念.html" class="nav-link">
  es2.5一些概念
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.6相似性评分.html" class="nav-link">
  es2.6相似性评分
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.7索引.html" class="nav-link">
  es2.7索引
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java面试题 Menu" class="dropdown-title"><span class="title">Java面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java面试题 Menu" class="mobile-dropdown-title"><span class="title">Java面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java面试题/一些面试题.html" class="nav-link">
  一些面试题
</a></li><li class="dropdown-item"><!----> <a href="/Java面试题/面试经典150题.html" class="nav-link">
  面试经典150题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Redis Menu" class="dropdown-title"><span class="title">Redis</span> <span class="arrow down"></span></button> <button type="button" aria-label="Redis Menu" class="mobile-dropdown-title"><span class="title">Redis</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Redis/redis1.1数据类型.html" class="nav-link">
  redis1.1数据类型
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis2.1数据交互.html" class="nav-link">
  redis2.1数据交互
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.1Redis对象.html" class="nav-link">
  redis3.1Redis对象
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.2LFU算法.html" class="nav-link">
  redis3.2LFU算法
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.3dict.html" class="nav-link">
  redis3.3dict
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.4embstr.html" class="nav-link">
  redis3.4embstr
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.5hash.html" class="nav-link">
  redis3.5hash
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.6skiplist.html" class="nav-link">
  redis3.6skiplist
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis4.1持久性.html" class="nav-link">
  redis4.1持久性
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis4.2副本.html" class="nav-link">
  redis4.2副本
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis4.3哨兵.html" class="nav-link">
  redis4.3哨兵
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis4.4集群.html" class="nav-link">
  redis4.4集群
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis5.1双写不一致.html" class="nav-link">
  redis5.1双写不一致
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis5.2bigkeys.html" class="nav-link">
  redis5.2bigkeys
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Clouder Menu" class="dropdown-title"><span class="title">Clouder</span> <span class="arrow down"></span></button> <button type="button" aria-label="Clouder Menu" class="mobile-dropdown-title"><span class="title">Clouder</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Clouder/Clouder.html" class="nav-link">
  Clouder
</a></li><li class="dropdown-item"><!----> <a href="/Clouder/Clouder源码介绍.html" class="nav-link">
  Clouder源码介绍
</a></li><li class="dropdown-item"><!----> <a href="/Clouder/怎么开源.html" class="nav-link">
  怎么开源
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Elasticsearch Menu" class="dropdown-title"><span class="title">Elasticsearch</span> <span class="arrow down"></span></button> <button type="button" aria-label="Elasticsearch Menu" class="mobile-dropdown-title"><span class="title">Elasticsearch</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.1环境安装.html" class="nav-link">
  es1.1环境安装
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.2一些概念.html" class="nav-link">
  es1.2一些概念
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.3一些API.html" class="nav-link">
  es1.3一些API
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.4查询.html" class="nav-link">
  es1.4查询
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.5聚合查询.html" class="nav-link">
  es1.5聚合查询
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.6ORM.html" class="nav-link">
  es1.6ORM
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.7分析器.html" class="nav-link">
  es1.7分析器
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.8脚本语言.html" class="nav-link">
  es1.8脚本语言
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es1.9搜索建议.html" class="nav-link">
  es1.9搜索建议
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.1高可用性.html" class="nav-link">
  es2.1高可用性
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.2搜索查询.html" class="nav-link">
  es2.2搜索查询
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.3倒排索引.html" class="nav-link">
  es2.3倒排索引
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.4地理查询.html" class="nav-link">
  es2.4地理查询
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.5一些概念.html" class="nav-link">
  es2.5一些概念
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.6相似性评分.html" class="nav-link">
  es2.6相似性评分
</a></li><li class="dropdown-item"><!----> <a href="/Elasticsearch/es2.7索引.html" class="nav-link">
  es2.7索引
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java面试题 Menu" class="dropdown-title"><span class="title">Java面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java面试题 Menu" class="mobile-dropdown-title"><span class="title">Java面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java面试题/一些面试题.html" class="nav-link">
  一些面试题
</a></li><li class="dropdown-item"><!----> <a href="/Java面试题/面试经典150题.html" class="nav-link">
  面试经典150题
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Redis Menu" class="dropdown-title"><span class="title">Redis</span> <span class="arrow down"></span></button> <button type="button" aria-label="Redis Menu" class="mobile-dropdown-title"><span class="title">Redis</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Redis/redis1.1数据类型.html" class="nav-link">
  redis1.1数据类型
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis2.1数据交互.html" class="nav-link">
  redis2.1数据交互
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.1Redis对象.html" class="nav-link">
  redis3.1Redis对象
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.2LFU算法.html" class="nav-link">
  redis3.2LFU算法
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.3dict.html" class="nav-link">
  redis3.3dict
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.4embstr.html" class="nav-link">
  redis3.4embstr
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.5hash.html" class="nav-link">
  redis3.5hash
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis3.6skiplist.html" class="nav-link">
  redis3.6skiplist
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis4.1持久性.html" class="nav-link">
  redis4.1持久性
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis4.2副本.html" class="nav-link">
  redis4.2副本
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis4.3哨兵.html" class="nav-link">
  redis4.3哨兵
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis4.4集群.html" class="nav-link">
  redis4.4集群
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis5.1双写不一致.html" class="nav-link">
  redis5.1双写不一致
</a></li><li class="dropdown-item"><!----> <a href="/Redis/redis5.2bigkeys.html" class="nav-link">
  redis5.2bigkeys
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Elasticsearch</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Elasticsearch/es1.1环境安装.html" class="sidebar-link">es1.1环境安装</a></li><li><a href="/Elasticsearch/es1.2一些概念.html" class="sidebar-link">es1.2一些概念</a></li><li><a href="/Elasticsearch/es1.3一些API.html" class="sidebar-link">es1.3一些API</a></li><li><a href="/Elasticsearch/es1.4查询.html" class="sidebar-link">es1.4查询</a></li><li><a href="/Elasticsearch/es1.5聚合查询.html" class="sidebar-link">es1.5聚合查询</a></li><li><a href="/Elasticsearch/es1.6ORM.html" class="sidebar-link">es1.6ORM</a></li><li><a href="/Elasticsearch/es1.7分析器.html" class="sidebar-link">es1.7分析器</a></li><li><a href="/Elasticsearch/es1.8脚本语言.html" class="sidebar-link">es1.8脚本语言</a></li><li><a href="/Elasticsearch/es1.9搜索建议.html" class="active sidebar-link">es1.9搜索建议</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#" class="sidebar-link">/</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#search-apis" class="sidebar-link" style="padding-left:3rem;">Search APIs</a></li><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#suggesters" class="sidebar-link" style="padding-left:3rem;">Suggesters</a></li><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#term-suggester" class="sidebar-link" style="padding-left:4rem;">Term suggester</a></li><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#phrase-suggester" class="sidebar-link" style="padding-left:4rem;">Phrase Suggester</a></li><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#completion-suggester" class="sidebar-link" style="padding-left:4rem;">Completion Suggester</a></li><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#prefix-query" class="sidebar-link" style="padding-left:5rem;">prefix query</a></li><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#fuzzy-query" class="sidebar-link" style="padding-left:5rem;">fuzzy query</a></li><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#regex-query" class="sidebar-link" style="padding-left:5rem;">regex query</a></li><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#一个字段多重数据类型-text-field-type" class="sidebar-link" style="padding-left:4rem;">一个字段多重数据类型（Text field type）</a></li><li class="sidebar-sub-header"><a href="/Elasticsearch/es1.9搜索建议.html#context-suggester" class="sidebar-link" style="padding-left:4rem;">Context Suggester</a></li></ul></li></ul></li><li><a href="/Elasticsearch/es2.1高可用性.html" class="sidebar-link">es2.1高可用性</a></li><li><a href="/Elasticsearch/es2.2搜索查询.html" class="sidebar-link">es2.2搜索查询</a></li><li><a href="/Elasticsearch/es2.3倒排索引.html" class="sidebar-link">es2.3倒排索引</a></li><li><a href="/Elasticsearch/es2.4地理查询.html" class="sidebar-link">es2.4地理查询</a></li><li><a href="/Elasticsearch/es2.5一些概念.html" class="sidebar-link">es2.5一些概念</a></li><li><a href="/Elasticsearch/es2.6相似性评分.html" class="sidebar-link">es2.6相似性评分</a></li><li><a href="/Elasticsearch/es2.7索引.html" class="sidebar-link">es2.7索引</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id=""><a href="#" class="header-anchor">#</a> /</h2> <h4 id="search-apis"><a href="#search-apis" class="header-anchor">#</a> Search APIs</h4> <div class="language-json line-numbers-mode"><pre class="language-json"><code>搜索API用于搜索和聚合存储在Elasticsearch索引和数据流中的数据。有关概述和相关教程，请参见搜索数据。
除了explain API之外，大多数搜索API都支持多目标语法。

Core search 核心搜索
Search 搜索
Multi search 多重搜索
Async search 异步搜索
Point in time 时间点
Scroll 纸卷
Clear scroll 清除滚动
Suggesters 建议者

Search testing 搜索测试
Explain 解释
Field capabilities 现场能力
Profile 轮廓
Ranking evaluation 排名评估
Search shards 搜索碎片
Validate 验证

Search templates 搜索模板
Search template 搜索模板
Multi search template 多搜索模板
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h4 id="suggesters"><a href="#suggesters" class="header-anchor">#</a> Suggesters</h4> <div class="language-json line-numbers-mode"><pre class="language-json"><code>通过使用suggester，根据提供的文本提出外观相似的术语。部分建议功能仍在开发中。

Term suggester
Phrase Suggester
Completion Suggester
Context Suggester
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="term-suggester"><a href="#term-suggester" class="header-anchor">#</a> Term suggester</h5> <div class="language-json line-numbers-mode"><pre class="language-json"><code>在提出术语之前，对所提供的建议文本进行分析。建议的术语是根据分析的建议文本标记提供的。

缺点：只适合关键字搜索。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code>PUT easyes_document/_doc/<span class="token number">1</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;content&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测试内容1&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;creator&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;老汉&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gmt_create&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2023-11-14 20:50:48&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;title&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测试1&quot;</span>
<span class="token punctuation">}</span>

PUT easyes_document/_doc/<span class="token number">2</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;content&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测试内容2&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;creator&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;新人&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gmt_create&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2023-11-14 20:50:48&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;title&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测算1&quot;</span>
<span class="token punctuation">}</span>

PUT easyes_document/_doc/<span class="token number">3</span>
<span class="token punctuation">{</span>
  <span class="token property">&quot;content&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测试内容3&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;creator&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;路人&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;gmt_create&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;2023-11-14 20:50:48&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;title&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测量1&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code>POST easyes_document/_search
<span class="token punctuation">{</span>
  <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;-&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;text&quot;</span><span class="token operator">:</span> <span class="token string">&quot;测算测试测量&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;term&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;analyzer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ik_max_word&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;suggest_mode&quot;</span><span class="token operator">:</span> <span class="token string">&quot;missing&quot;</span><span class="token punctuation">,</span><span class="token comment">//如果术语与关键字一样，则不显示</span>
        <span class="token property">&quot;min_word_length&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;title.keyword&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;took&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timed_out&quot;</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;_shards&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;total&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;successful&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;skipped&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;failed&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;hits&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;total&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;value&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;relation&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;eq&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;max_score&quot;</span> <span class="token operator">:</span> <span class="token null keyword">null</span><span class="token punctuation">,</span>
    <span class="token property">&quot;hits&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;suggest&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;-&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;text&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测算&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;offset&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;length&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;options&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测算1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;score&quot;</span> <span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;freq&quot;</span> <span class="token operator">:</span> <span class="token number">1</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;text&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测试&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;offset&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;length&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;options&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测试1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;score&quot;</span> <span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;freq&quot;</span> <span class="token operator">:</span> <span class="token number">1</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;text&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测量&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;offset&quot;</span> <span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token property">&quot;length&quot;</span> <span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token property">&quot;options&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;text&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;测量1&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;score&quot;</span> <span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
            <span class="token property">&quot;freq&quot;</span> <span class="token operator">:</span> <span class="token number">1</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><h5 id="phrase-suggester"><a href="#phrase-suggester" class="header-anchor">#</a> Phrase Suggester</h5> <div class="language-json line-numbers-mode"><pre class="language-json"><code>Phrase Suggester
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="completion-suggester"><a href="#completion-suggester" class="header-anchor">#</a> Completion Suggester</h5> <div class="language-json line-numbers-mode"><pre class="language-json"><code>completion suggester 提供键入时自动完成/搜索功能。
这是一个导航功能，可在用户键入时引导用户找到相关结果，从而提高搜索精度。
它不是用来拼写纠正的，或者是像term或phrase suggester这样的功能。

理想情况下，自动完成功能应该和用户键入的一样快，以提供与用户已经键入的内容相关的即时反馈。
因此，completion suggester针对速度进行了优化。使用的数据结构可以实现快速查找，但构建成本高昂，并且存储在内存中。

优点：支持前缀查询、前缀模糊查询、前缀正则查询。适合作为前缀搜索，比edge N-grams分词器效果好。
缺点：只适合前缀搜索，如果搜索字段不是前缀，召回效果不好。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code>#添加两首音乐
PUT music
<span class="token punctuation">{</span>
  <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;completion&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

PUT music/_doc/<span class="token number">1</span>?refresh
<span class="token punctuation">{</span>
  <span class="token property">&quot;suggest&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;Nevermind&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Nirvana&quot;</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h6 id="prefix-query"><a href="#prefix-query" class="header-anchor">#</a> prefix query</h6> <div class="language-json line-numbers-mode"><pre class="language-json"><code>#前缀搜索音乐nir
POST music/_search?pretty
<span class="token punctuation">{</span>
  <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;song-suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;prefix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nir&quot;</span><span class="token punctuation">,</span>        
      <span class="token property">&quot;completion&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>         
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;suggest&quot;</span>  
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

#搜索结果
<span class="token punctuation">{</span>
  <span class="token property">&quot;_shards&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;total&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;successful&quot;</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">&quot;skipped&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token property">&quot;failed&quot;</span> <span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;hits&quot;</span><span class="token operator">:</span> ...
  <span class="token property">&quot;took&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">&quot;timed_out&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;song-suggest&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;text&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;nir&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;offset&quot;</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">&quot;length&quot;</span> <span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
      <span class="token property">&quot;options&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;text&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;Nirvana&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_index&quot;</span><span class="token operator">:</span> <span class="token string">&quot;music&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_id&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_score&quot;</span><span class="token operator">:</span> <span class="token number">1.0</span><span class="token punctuation">,</span>
        <span class="token property">&quot;_source&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;Nevermind&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Nirvana&quot;</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span> <span class="token punctuation">]</span>
    <span class="token punctuation">}</span> <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h6 id="fuzzy-query"><a href="#fuzzy-query" class="header-anchor">#</a> fuzzy query</h6> <div class="language-json line-numbers-mode"><pre class="language-json"><code>POST music/_search?pretty
<span class="token punctuation">{</span>
  <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;song-suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;prefix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nor&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;completion&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;suggest&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fuzzy&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;fuzziness&quot;</span><span class="token operator">:</span> <span class="token number">2</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h6 id="regex-query"><a href="#regex-query" class="header-anchor">#</a> regex query</h6> <div class="language-json line-numbers-mode"><pre class="language-json"><code>POST music/_search?pretty
<span class="token punctuation">{</span>
  <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;song-suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;regex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;n[ever|i]r&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;completion&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;suggest&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h5 id="一个字段多重数据类型-text-field-type"><a href="#一个字段多重数据类型-text-field-type" class="header-anchor">#</a> 一个字段多重数据类型（Text field type）</h5> <div class="language-json line-numbers-mode"><pre class="language-json"><code>text字段的参数
fields 多重字段允许以多种方式对同一字符串值进行索引，以达到不同的目的，例如一个字段用于搜索，多个字段用于排序和聚合，或者由不同的分析器分析同一个字符串值。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-json line-numbers-mode"><pre class="language-json"><code>PUT music
<span class="token punctuation">{</span>
  <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;completion&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
POST music/_search?pretty
<span class="token punctuation">{</span>
  <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;song-suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;prefix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nir&quot;</span><span class="token punctuation">,</span>        
      <span class="token property">&quot;completion&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>         
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;suggest&quot;</span>  
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


#一个字段多重数据类型（text、completion）
PUT music
<span class="token punctuation">{</span>
  <span class="token property">&quot;mappings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;properties&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;title&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fields&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
          <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;completion&quot;</span> <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
POST music/_search?pretty
<span class="token punctuation">{</span>
  <span class="token property">&quot;suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;song-suggest&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;prefix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;nir&quot;</span><span class="token punctuation">,</span>        
      <span class="token property">&quot;completion&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>         
        <span class="token property">&quot;field&quot;</span><span class="token operator">:</span> <span class="token string">&quot;title.suggest&quot;</span>  
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div><h5 id="context-suggester"><a href="#context-suggester" class="header-anchor">#</a> Context Suggester</h5> <div class="language-json line-numbers-mode"><pre class="language-json"><code>Context Suggester
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Elasticsearch/es1.8脚本语言.html" class="prev">
        es1.8脚本语言
      </a></span> <span class="next"><a href="/Elasticsearch/es2.1高可用性.html">
        es2.1高可用性
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7ad2db50.js" defer></script><script src="/assets/js/2.ae7b2f73.js" defer></script><script src="/assets/js/1.5784faf9.js" defer></script><script src="/assets/js/33.2be8917e.js" defer></script>
  </body>
</html>
