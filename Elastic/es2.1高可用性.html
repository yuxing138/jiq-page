<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>/ | YuXing138</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.9f84806b.css" as="style"><link rel="preload" href="/assets/js/app.8f07b24c.js" as="script"><link rel="preload" href="/assets/js/2.ae7b2f73.js" as="script"><link rel="preload" href="/assets/js/1.5784faf9.js" as="script"><link rel="preload" href="/assets/js/36.9e697bfb.js" as="script"><link rel="prefetch" href="/assets/js/10.11cd5bbe.js"><link rel="prefetch" href="/assets/js/11.d6f242fd.js"><link rel="prefetch" href="/assets/js/12.52955fb8.js"><link rel="prefetch" href="/assets/js/13.0171e0e6.js"><link rel="prefetch" href="/assets/js/14.e8630228.js"><link rel="prefetch" href="/assets/js/15.e3fe6a55.js"><link rel="prefetch" href="/assets/js/16.ed16aad5.js"><link rel="prefetch" href="/assets/js/17.9f06ecf6.js"><link rel="prefetch" href="/assets/js/18.4c170722.js"><link rel="prefetch" href="/assets/js/19.66f6de90.js"><link rel="prefetch" href="/assets/js/20.2e3db1a8.js"><link rel="prefetch" href="/assets/js/21.ce1d45a6.js"><link rel="prefetch" href="/assets/js/22.da4a9ea1.js"><link rel="prefetch" href="/assets/js/23.a3f0a356.js"><link rel="prefetch" href="/assets/js/24.f0587377.js"><link rel="prefetch" href="/assets/js/25.a9ab9c66.js"><link rel="prefetch" href="/assets/js/26.f3be70d9.js"><link rel="prefetch" href="/assets/js/27.a785da61.js"><link rel="prefetch" href="/assets/js/28.9bb6ae0f.js"><link rel="prefetch" href="/assets/js/29.b59d30a0.js"><link rel="prefetch" href="/assets/js/3.e5de98dd.js"><link rel="prefetch" href="/assets/js/30.f4db5fa7.js"><link rel="prefetch" href="/assets/js/31.c4b83c47.js"><link rel="prefetch" href="/assets/js/32.3a07ffe3.js"><link rel="prefetch" href="/assets/js/33.829aff7f.js"><link rel="prefetch" href="/assets/js/34.0cb2a621.js"><link rel="prefetch" href="/assets/js/35.24eb55e4.js"><link rel="prefetch" href="/assets/js/37.d0e685f6.js"><link rel="prefetch" href="/assets/js/38.6bec4b73.js"><link rel="prefetch" href="/assets/js/39.fda4478c.js"><link rel="prefetch" href="/assets/js/4.45665f8a.js"><link rel="prefetch" href="/assets/js/40.a0b3753c.js"><link rel="prefetch" href="/assets/js/5.9221cc65.js"><link rel="prefetch" href="/assets/js/6.08529f20.js"><link rel="prefetch" href="/assets/js/7.d6f7c6a1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.5e19b665.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9f84806b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">YuXing138</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Clouder Menu" class="dropdown-title"><span class="title">Clouder</span> <span class="arrow down"></span></button> <button type="button" aria-label="Clouder Menu" class="mobile-dropdown-title"><span class="title">Clouder</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Clouder/Clouder.html" class="nav-link">
  Clouder
</a></li><li class="dropdown-item"><!----> <a href="/Clouder/Clouder源码介绍.html" class="nav-link">
  Clouder源码介绍
</a></li><li class="dropdown-item"><!----> <a href="/Clouder/怎么开源.html" class="nav-link">
  怎么开源
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Elastic Menu" class="dropdown-title"><span class="title">Elastic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Elastic Menu" class="mobile-dropdown-title"><span class="title">Elastic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Elastic/es1.1环境安装.html" class="nav-link">
  es1.1环境安装
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.2一些概念.html" class="nav-link">
  es1.2一些概念
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.3一些API.html" class="nav-link">
  es1.3一些API
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.4查询语言.html" class="nav-link">
  es1.4查询语言
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.5聚合查询.html" class="nav-link">
  es1.5聚合查询
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.6ORM.html" class="nav-link">
  es1.6ORM
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.7分析器.html" class="nav-link">
  es1.7分析器
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.8脚本.html" class="nav-link">
  es1.8脚本
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.9搜索建议.html" class="nav-link">
  es1.9搜索建议
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es2.1高可用性.html" class="nav-link">
  es2.1高可用性
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java面试题 Menu" class="dropdown-title"><span class="title">Java面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java面试题 Menu" class="mobile-dropdown-title"><span class="title">Java面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java面试题/一些面试题.html" class="nav-link">
  一些面试题
</a></li><li class="dropdown-item"><!----> <a href="/Java面试题/面试经典150题.html" class="nav-link">
  面试经典150题
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Clouder Menu" class="dropdown-title"><span class="title">Clouder</span> <span class="arrow down"></span></button> <button type="button" aria-label="Clouder Menu" class="mobile-dropdown-title"><span class="title">Clouder</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Clouder/Clouder.html" class="nav-link">
  Clouder
</a></li><li class="dropdown-item"><!----> <a href="/Clouder/Clouder源码介绍.html" class="nav-link">
  Clouder源码介绍
</a></li><li class="dropdown-item"><!----> <a href="/Clouder/怎么开源.html" class="nav-link">
  怎么开源
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Elastic Menu" class="dropdown-title"><span class="title">Elastic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Elastic Menu" class="mobile-dropdown-title"><span class="title">Elastic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Elastic/es1.1环境安装.html" class="nav-link">
  es1.1环境安装
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.2一些概念.html" class="nav-link">
  es1.2一些概念
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.3一些API.html" class="nav-link">
  es1.3一些API
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.4查询语言.html" class="nav-link">
  es1.4查询语言
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.5聚合查询.html" class="nav-link">
  es1.5聚合查询
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.6ORM.html" class="nav-link">
  es1.6ORM
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.7分析器.html" class="nav-link">
  es1.7分析器
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.8脚本.html" class="nav-link">
  es1.8脚本
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es1.9搜索建议.html" class="nav-link">
  es1.9搜索建议
</a></li><li class="dropdown-item"><!----> <a href="/Elastic/es2.1高可用性.html" class="nav-link">
  es2.1高可用性
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java面试题 Menu" class="dropdown-title"><span class="title">Java面试题</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java面试题 Menu" class="mobile-dropdown-title"><span class="title">Java面试题</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Java面试题/一些面试题.html" class="nav-link">
  一些面试题
</a></li><li class="dropdown-item"><!----> <a href="/Java面试题/面试经典150题.html" class="nav-link">
  面试经典150题
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Elastic</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Elastic/es1.1环境安装.html" class="sidebar-link">es1.1环境安装</a></li><li><a href="/Elastic/es1.2一些概念.html" class="sidebar-link">es1.2一些概念</a></li><li><a href="/Elastic/es1.3一些API.html" class="sidebar-link">es1.3一些API</a></li><li><a href="/Elastic/es1.4查询语言.html" class="sidebar-link">es1.4查询语言</a></li><li><a href="/Elastic/es1.5聚合查询.html" class="sidebar-link">es1.5聚合查询</a></li><li><a href="/Elastic/es1.6ORM.html" class="sidebar-link">es1.6ORM</a></li><li><a href="/Elastic/es1.7分析器.html" class="sidebar-link">es1.7分析器</a></li><li><a href="/Elastic/es1.8脚本.html" class="sidebar-link">es1.8脚本</a></li><li><a href="/Elastic/es1.9搜索建议.html" class="sidebar-link">es1.9搜索建议</a></li><li><a href="/Elastic/es2.1高可用性.html" class="active sidebar-link">es2.1高可用性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Elastic/es2.1高可用性.html#" class="sidebar-link">/</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Elastic/es2.1高可用性.html#高可用性-high-availability" class="sidebar-link" style="padding-left:3rem;">高可用性（high availability）</a></li><li class="sidebar-sub-header"><a href="/Elastic/es2.1高可用性.html#弹性设计-designing-for-resilience" class="sidebar-link" style="padding-left:4rem;">弹性设计（Designing for resilience）</a></li><li class="sidebar-sub-header"><a href="/Elastic/es2.1高可用性.html#跨群集复制-cross-cluster-replication" class="sidebar-link" style="padding-left:4rem;">跨群集复制（Cross-cluster replication）</a></li><li class="sidebar-sub-header"><a href="/Elastic/es2.1高可用性.html#备份群集-back-up-a-cluster" class="sidebar-link" style="padding-left:4rem;">备份群集（Back up a cluster）</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id=""><a href="#" class="header-anchor">#</a> /</h2> <h4 id="高可用性-high-availability"><a href="#高可用性-high-availability" class="header-anchor">#</a> 高可用性（high availability）</h4> <p>你的数据对你来说很重要。保持它的安全和可用性对Elasticsearch很重要。有时，您的集群可能会出现硬件故障或断电。为了帮助您制定计划，Elasticsearch提供了许多功能，即使出现故障，也能实现高可用性。</p> <ul><li>通过适当的规划，集群可以专为弹性设计<code>Designing for resilience</code>以应对许多常见错误，从失去单个节点或网络连接到停电等区域性停电。</li> <li>您可以使用跨集群复制<code>Cross-cluster replication</code>将数据复制到远程跟随者集群，该集群可能位于不同的数据中心，甚至位于与领导者集群不同的大陆。跟随者集群充当热备用，在发生严重灾难导致引导者集群发生故障时随时可以进行故障转移。追随者集群还可以充当地理复制品，为附近客户端的搜索提供服务。</li> <li>防止数据丢失的最后一道防线是定期拍摄集群的快照<code>take regular snapshots</code>，以便在需要时在其他地方恢复其全新副本。</li></ul> <h5 id="弹性设计-designing-for-resilience"><a href="#弹性设计-designing-for-resilience" class="header-anchor">#</a> 弹性设计（Designing for resilience）</h5> <p>像Elasticsearch这样的分布式系统被设计为即使某些组件出现故障也能继续工作。只要有足够的连接良好的节点来接管它们的职责，Elasticsearch集群就可以在某些节点不可用或断开连接的情况下继续正常运行。<br>弹性集群的大小是有限制的。所有Elasticsearch集群都需要：</p> <ul><li>一个选定的主节点节点。（基于法定人数的决策Quorum-based decision making）</li> <li>每个角色至少有一个节点。</li> <li>每个碎片至少有一个副本。</li></ul> <h5 id="跨群集复制-cross-cluster-replication"><a href="#跨群集复制-cross-cluster-replication" class="header-anchor">#</a> 跨群集复制（Cross-cluster replication）</h5> <p>使用跨集群复制，您可以跨集群复制索引以：</p> <ul><li>在数据中心中断的情况下继续处理搜索请求</li> <li>防止搜索量影响索引吞吐量</li> <li>通过在用户附近的地理位置处理搜索请求来减少搜索延迟</li></ul> <p>跨群集复制使用主动-被动模式。索引到前导索引，数据将复制到一个或多个只读跟随索引。在将跟随索引添加到集群之前，必须配置包含前导索引的远程集群。<br>当引导索引接收到写入时，跟随索引从远程集群上的引导索引中提取更改。您可以手动创建跟随者索引，也可以配置自动跟随模式为新的时间序列索引自动创建跟随者指数。<br>您可以在单向或双向设置中配置跨群集复制群集：</p> <ul><li>在单向配置中，一个集群只包含前导索引，而另一个集群仅包含跟随索引。</li> <li>在双向配置中，每个集群都包含前导索引和跟随索引。</li></ul> <p>在单向配置中，包含跟随索引的集群必须运行与远程集群相同或更新版本的Elasticsearch。如果更新，则版本也必须兼容，如下表所示。</p> <h5 id="备份群集-back-up-a-cluster"><a href="#备份群集-back-up-a-cluster" class="header-anchor">#</a> 备份群集（Back up a cluster）</h5> <p>备份集群的唯一可靠且受支持的方法是拍摄快照<code>taking a snapshot</code>。您无法通过复制Elasticsearch集群节点的数据目录来备份该集群。不支持从文件系统级备份中恢复任何数据的方法。如果您尝试从这样的备份中恢复群集，它可能会失败，并报告损坏、文件丢失或其他数据不一致，或者它可能已经成功地静默地丢失了一些数据。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Elastic/es1.9搜索建议.html" class="prev">
        es1.9搜索建议
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.8f07b24c.js" defer></script><script src="/assets/js/2.ae7b2f73.js" defer></script><script src="/assets/js/1.5784faf9.js" defer></script><script src="/assets/js/36.9e697bfb.js" defer></script>
  </body>
</html>
