(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{333:function(t,e,a){"use strict";a.r(e);var r=a(14),s=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")]),t._v(" /")]),t._v(" "),e("blockquote",[e("p",[e("a",{attrs:{href:"https://redis.io/topics/sentinel.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://redis.io/topics/sentinel.html"),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://redis.io/docs/management/sentinel/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://redis.io/docs/management/sentinel/"),e("OutboundLink")],1)])]),t._v(" "),e("h4",{attrs:{id:"什么是脑裂"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#什么是脑裂"}},[t._v("#")]),t._v(" 什么是脑裂")]),t._v(" "),e("p",[t._v("1、master0断网，slave转master1  //新master数据非最新"),e("br"),t._v("2、master0连网，出现2个master   //称为脑裂"),e("br"),t._v("3、master0降级slave，offset更新  //数据丢失")]),t._v(" "),e("h4",{attrs:{id:"选举的流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#选举的流程"}},[t._v("#")]),t._v(" 选举的流程")]),t._v(" "),e("p",[t._v("1、master超时或宕机，则重新选举"),e("br"),t._v("2、选谁？master候选者："),e("code",[t._v("优先级最高（priority最小）")]),t._v("、"),e("code",[t._v("offset最高（复制数据最多）")]),t._v("、"),e("code",[t._v("runid最小（最先连接master）")]),e("br"),t._v("3、选票过半，则为master"),e("br"),e("img",{attrs:{src:"https://jiq-picture.yuxing138.top/530aaa260a46a89a90ea2c89b9df47d9/1702294610858-be5685f6-07ca-48a7-a413-b23209ed1b79.png#averageHue=%23f3f2f1&clientId=u58d2f990-b695-4&from=paste&height=403&id=ua6a84377&originHeight=1008&originWidth=910&originalType=binary&ratio=2.5&rotation=0&showTitle=false&size=82681&status=done&style=none&taskId=u0c5d2534-cd1e-4872-92d6-f27c2898abe&title=&width=364",alt:"image.png"}})])])}),[],!1,null,null,null);e.default=s.exports}}]);