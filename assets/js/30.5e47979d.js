(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{310:function(a,n,s){"use strict";s.r(n);var e=s(14),t=Object(e.a)({},(function(){var a=this,n=a._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h2",{attrs:{id:""}},[n("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")]),a._v(" /")]),a._v(" "),n("h4",{attrs:{id:"_1、什么是装箱、拆箱"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、什么是装箱、拆箱"}},[a._v("#")]),a._v(" 1、什么是装箱、拆箱")]),a._v(" "),n("blockquote",[n("p",[a._v("装箱是一种封装，是一种设计模式，可称为“装箱模式”。")])]),a._v(" "),n("p",[a._v("装箱指基础类型（int、double等）转换为包装类型（Integer、Double等）的过程。"),n("br"),a._v("拆箱指从包装类型转换为基础类型的过程。"),n("br"),a._v("自动装箱的源码："),n("code",[a._v("Integer.valueOf")]),a._v("。（见字节码）"),n("br"),a._v("自动拆箱的源码："),n("code",[a._v("Integer.intValue")]),a._v("。（见字节码）")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("public class Test {\n    public static void main(String[] args) {\n        //装箱\n        Integer integer = new Integer(1);\n        Integer integer1 = Integer.valueOf(1);\n        Integer integer2 = 1;\n        //拆箱\n        int i = integer.intValue();\n        int i1 = integer;\n\n        //装箱\n        Boolean aBoolean = new Boolean(true);\n        Boolean aBoolean1 = Boolean.valueOf(true);\n        Boolean aBoolean2 = true;\n        //拆箱\n        boolean b = aBoolean.booleanValue();\n        boolean b1 = aBoolean;\n\n        //boolean Boolean\n        //byte Byte\n        //short Short\n        //char Character\n        //int Integer\n        //long Long\n        //float Float\n        //double Double\n    }\n}\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br"),n("span",{staticClass:"line-number"},[a._v("24")]),n("br"),n("span",{staticClass:"line-number"},[a._v("25")]),n("br"),n("span",{staticClass:"line-number"},[a._v("26")]),n("br"),n("span",{staticClass:"line-number"},[a._v("27")]),n("br"),n("span",{staticClass:"line-number"},[a._v("28")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("public class Test1 {\n    void test(){\n        Integer i = 1;\n        int j = i;\n    }\n}\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("  void test();\n    descriptor: ()V\n    flags:\n    Code:\n      stack=1, locals=3, args_size=1\n         0: iconst_1\n         1: invokestatic  #2                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n         4: astore_1\n         5: aload_1\n         6: invokevirtual #3                  // Method java/lang/Integer.intValue:()I\n         9: istore_2\n        10: return\n      LineNumberTable:\n        line 9: 0\n        line 10: 5\n        line 11: 10\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      11     0  this   Ltemp/Test1;\n            5       6     1     i   Ljava/lang/Integer;\n           10       1     2     j   I\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br")])]),n("h4",{attrs:{id:"_2、使用泛型表达一个任意类型"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、使用泛型表达一个任意类型"}},[a._v("#")]),a._v(" 2、使用泛型表达一个任意类型")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("public class Node<T> {\n    T val;\n    Node<T> pre;\n    Node<T> next;\n}\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br")])]),n("h4",{attrs:{id:"_3、包装类型与object类型的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、包装类型与object类型的区别"}},[a._v("#")]),a._v(" 3、包装类型与Object类型的区别？")]),a._v(" "),n("p",[a._v("（1）装箱的过程中，"),n("code",[a._v("Object类型")]),a._v("与"),n("code",[a._v("包装类型")]),a._v("是一样的。"),n("br"),a._v("（2）拆箱的过程中，"),n("code",[a._v("Object类型")]),a._v("比"),n("code",[a._v("包装类型")]),a._v("多做一次"),n("code",[a._v("类型转换检查")]),a._v("。（注意："),n("code",[a._v("强制类型转换")]),a._v("是一次"),n("code",[a._v("类型转换检查")]),a._v("。）"),n("br"),n("img",{attrs:{src:"https://jiq-picture.yuxing138.top/615c4b357f0d00db995798897574b230/1699284565752-0b144098-c628-4c93-8706-6dc02deda21a.png#averageHue=%23f8f7f7&clientId=ud3324315-7770-4&from=paste&height=364&id=GV2fn&originHeight=1594&originWidth=2626&originalType=binary&ratio=2.5&rotation=0&showTitle=false&size=323312&status=done&style=none&taskId=ubcc17423-278c-4f3f-bcc2-3af3a8372f3&title=&width=600",alt:"image.png"}})]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("public class Test1 {\n    void test(){\n        Integer i = 1;\n        int j = i;\n        Object k = 1;\n        int l = (int) k;\n    }\n}\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("  void test();\n    descriptor: ()V\n    flags:\n    Code:\n      stack=1, locals=5, args_size=1\n         0: iconst_1\n         1: invokestatic  #2                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n         4: astore_1\n         5: aload_1\n         6: invokevirtual #3                  // Method java/lang/Integer.intValue:()I\n         9: istore_2\n        10: iconst_1\n        11: invokestatic  #2                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n        14: astore_3\n        15: aload_3\n        16: checkcast     #4                  // class java/lang/Integer\n        19: invokevirtual #3                  // Method java/lang/Integer.intValue:()I\n        22: istore        4\n        24: return\n      LineNumberTable:\n        line 9: 0\n        line 10: 5\n        line 11: 10\n        line 12: 15\n        line 13: 24\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      25     0  this   Ltemp/Test1;\n            5      20     1     i   Ljava/lang/Integer;\n           10      15     2     j   I\n           15      10     3     k   Ljava/lang/Object;\n           24       1     4     l   I\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br"),n("span",{staticClass:"line-number"},[a._v("24")]),n("br"),n("span",{staticClass:"line-number"},[a._v("25")]),n("br"),n("span",{staticClass:"line-number"},[a._v("26")]),n("br"),n("span",{staticClass:"line-number"},[a._v("27")]),n("br"),n("span",{staticClass:"line-number"},[a._v("28")]),n("br"),n("span",{staticClass:"line-number"},[a._v("29")]),n("br"),n("span",{staticClass:"line-number"},[a._v("30")]),n("br"),n("span",{staticClass:"line-number"},[a._v("31")]),n("br"),n("span",{staticClass:"line-number"},[a._v("32")]),n("br")])]),n("h4",{attrs:{id:"_4、泛型与object类型的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、泛型与object类型的区别"}},[a._v("#")]),a._v(" 4、泛型与Object类型的区别？")]),a._v(" "),n("p",[a._v("（1）泛型其实是Object类型。（注意：传参的过程中，会自动装箱。）"),n("br"),a._v("（2）装箱、拆箱：泛型与Object类型一样。（见字节码）"),n("br"),n("img",{attrs:{src:"https://jiq-picture.yuxing138.top/615c4b357f0d00db995798897574b230/1699288612286-b0edc30c-d08d-4ae9-861b-7f8d4982bc1c.png#averageHue=%23f7f6f6&clientId=ud3324315-7770-4&from=paste&height=293&id=u10c279f2&originHeight=1203&originWidth=2464&originalType=binary&ratio=2.5&rotation=0&showTitle=false&size=287866&status=done&style=none&taskId=u5369bf4f-f443-4ab6-9174-40657df174a&title=&width=600",alt:"image.png"}}),n("br"),n("img",{attrs:{src:"https://jiq-picture.yuxing138.top/615c4b357f0d00db995798897574b230/1699287168467-097a61d3-a562-4382-9b48-fe6dd5b35677.png#averageHue=%23f7f5f5&clientId=ud3324315-7770-4&from=paste&height=332&id=ue127626d&originHeight=1388&originWidth=3759&originalType=binary&ratio=2.5&rotation=0&showTitle=false&size=540730&status=done&style=none&taskId=uee38c1a2-ddc2-4d37-bc16-d091005759d&title=&width=900",alt:"image.png"}})]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("public class Test1<T> {\n    void test(T t){\n        Integer i = 1;\n        int j = i;\n\n        Object k = 1;\n        int l = (int) k;//类型转换+拆箱\n\n        T a = t;\n        int b = (Integer) a;//类型转换+拆箱\n\n        Integer c = (Integer) t;//类型转换\n        int d = c;//类型转换+拆箱（字节码中没有再做一次类型转换，直接拆箱）\n\n        //int e = (int) t;//不兼容的类型: T无法转换为int\n    }\n\n    public static void main(String[] args) {\n        Test1<Integer> test1 = new Test1<>();\n        test1.test(1);\n    }\n}\n\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('  void test(T);\n    descriptor: (Ljava/lang/Object;)V\n    flags:\n    Code:\n      stack=1, locals=10, args_size=2\n         0: iconst_1\n         1: invokestatic  #2                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n         4: astore_2\n         5: aload_2\n         6: invokevirtual #3                  // Method java/lang/Integer.intValue:()I\n         9: istore_3\n        10: iconst_1\n        11: invokestatic  #2                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n        14: astore        4\n        16: aload         4\n        18: checkcast     #4                  // class java/lang/Integer\n        21: invokevirtual #3                  // Method java/lang/Integer.intValue:()I\n        24: istore        5\n        26: aload_1\n        27: astore        6\n        29: aload         6\n        31: checkcast     #4                  // class java/lang/Integer\n        34: invokevirtual #3                  // Method java/lang/Integer.intValue:()I\n        37: istore        7\n        39: aload_1\n        40: checkcast     #4                  // class java/lang/Integer\n        43: astore        8\n        45: aload         8\n        47: invokevirtual #3                  // Method java/lang/Integer.intValue:()I\n        50: istore        9\n        52: return\n      LineNumberTable:\n        line 9: 0\n        line 10: 5\n        line 12: 10\n        line 13: 16\n        line 15: 26\n        line 16: 29\n        line 18: 39\n        line 19: 45\n        line 20: 52\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      53     0  this   Ltemp/Test1;\n            0      53     1     t   Ljava/lang/Object;\n            5      48     2     i   Ljava/lang/Integer;\n           10      43     3     j   I\n           16      37     4     k   Ljava/lang/Object;\n           26      27     5     l   I\n           29      24     6     a   Ljava/lang/Object;\n           39      14     7     b   I\n           45       8     8     c   Ljava/lang/Integer;\n           52       1     9     d   I\n      LocalVariableTypeTable:\n        Start  Length  Slot  Name   Signature\n            0      53     0  this   Ltemp/Test1<TT;>;\n            0      53     1     t   TT;\n           29      24     6     a   TT;\n    Signature: #34                          // (TT;)V\n\n  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=2, locals=2, args_size=1\n         0: new           #5                  // class temp/Test1\n         3: dup\n         4: invokespecial #6                  // Method "<init>":()V\n         7: astore_1\n         8: aload_1\n         9: iconst_1\n        10: invokestatic  #2                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n        13: invokevirtual #7                  // Method test:(Ljava/lang/Object;)V\n        16: return\n      LineNumberTable:\n        line 23: 0\n        line 24: 8\n        line 25: 16\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      17     0  args   [Ljava/lang/String;\n            8       9     1 test1   Ltemp/Test1;\n      LocalVariableTypeTable:\n        Start  Length  Slot  Name   Signature\n            8       9     1 test1   Ltemp/Test1<Ljava/lang/Integer;>;\n}\nSignature: #41                          // <T:Ljava/lang/Object;>Ljava/lang/Object;\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br"),n("span",{staticClass:"line-number"},[a._v("24")]),n("br"),n("span",{staticClass:"line-number"},[a._v("25")]),n("br"),n("span",{staticClass:"line-number"},[a._v("26")]),n("br"),n("span",{staticClass:"line-number"},[a._v("27")]),n("br"),n("span",{staticClass:"line-number"},[a._v("28")]),n("br"),n("span",{staticClass:"line-number"},[a._v("29")]),n("br"),n("span",{staticClass:"line-number"},[a._v("30")]),n("br"),n("span",{staticClass:"line-number"},[a._v("31")]),n("br"),n("span",{staticClass:"line-number"},[a._v("32")]),n("br"),n("span",{staticClass:"line-number"},[a._v("33")]),n("br"),n("span",{staticClass:"line-number"},[a._v("34")]),n("br"),n("span",{staticClass:"line-number"},[a._v("35")]),n("br"),n("span",{staticClass:"line-number"},[a._v("36")]),n("br"),n("span",{staticClass:"line-number"},[a._v("37")]),n("br"),n("span",{staticClass:"line-number"},[a._v("38")]),n("br"),n("span",{staticClass:"line-number"},[a._v("39")]),n("br"),n("span",{staticClass:"line-number"},[a._v("40")]),n("br"),n("span",{staticClass:"line-number"},[a._v("41")]),n("br"),n("span",{staticClass:"line-number"},[a._v("42")]),n("br"),n("span",{staticClass:"line-number"},[a._v("43")]),n("br"),n("span",{staticClass:"line-number"},[a._v("44")]),n("br"),n("span",{staticClass:"line-number"},[a._v("45")]),n("br"),n("span",{staticClass:"line-number"},[a._v("46")]),n("br"),n("span",{staticClass:"line-number"},[a._v("47")]),n("br"),n("span",{staticClass:"line-number"},[a._v("48")]),n("br"),n("span",{staticClass:"line-number"},[a._v("49")]),n("br"),n("span",{staticClass:"line-number"},[a._v("50")]),n("br"),n("span",{staticClass:"line-number"},[a._v("51")]),n("br"),n("span",{staticClass:"line-number"},[a._v("52")]),n("br"),n("span",{staticClass:"line-number"},[a._v("53")]),n("br"),n("span",{staticClass:"line-number"},[a._v("54")]),n("br"),n("span",{staticClass:"line-number"},[a._v("55")]),n("br"),n("span",{staticClass:"line-number"},[a._v("56")]),n("br"),n("span",{staticClass:"line-number"},[a._v("57")]),n("br"),n("span",{staticClass:"line-number"},[a._v("58")]),n("br"),n("span",{staticClass:"line-number"},[a._v("59")]),n("br"),n("span",{staticClass:"line-number"},[a._v("60")]),n("br"),n("span",{staticClass:"line-number"},[a._v("61")]),n("br"),n("span",{staticClass:"line-number"},[a._v("62")]),n("br"),n("span",{staticClass:"line-number"},[a._v("63")]),n("br"),n("span",{staticClass:"line-number"},[a._v("64")]),n("br"),n("span",{staticClass:"line-number"},[a._v("65")]),n("br"),n("span",{staticClass:"line-number"},[a._v("66")]),n("br"),n("span",{staticClass:"line-number"},[a._v("67")]),n("br"),n("span",{staticClass:"line-number"},[a._v("68")]),n("br"),n("span",{staticClass:"line-number"},[a._v("69")]),n("br"),n("span",{staticClass:"line-number"},[a._v("70")]),n("br"),n("span",{staticClass:"line-number"},[a._v("71")]),n("br"),n("span",{staticClass:"line-number"},[a._v("72")]),n("br"),n("span",{staticClass:"line-number"},[a._v("73")]),n("br"),n("span",{staticClass:"line-number"},[a._v("74")]),n("br"),n("span",{staticClass:"line-number"},[a._v("75")]),n("br"),n("span",{staticClass:"line-number"},[a._v("76")]),n("br"),n("span",{staticClass:"line-number"},[a._v("77")]),n("br"),n("span",{staticClass:"line-number"},[a._v("78")]),n("br"),n("span",{staticClass:"line-number"},[a._v("79")]),n("br"),n("span",{staticClass:"line-number"},[a._v("80")]),n("br"),n("span",{staticClass:"line-number"},[a._v("81")]),n("br"),n("span",{staticClass:"line-number"},[a._v("82")]),n("br"),n("span",{staticClass:"line-number"},[a._v("83")]),n("br"),n("span",{staticClass:"line-number"},[a._v("84")]),n("br"),n("span",{staticClass:"line-number"},[a._v("85")]),n("br"),n("span",{staticClass:"line-number"},[a._v("86")]),n("br"),n("span",{staticClass:"line-number"},[a._v("87")]),n("br")])]),n("h4",{attrs:{id:"_5、泛型与object类型的区别"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5、泛型与object类型的区别"}},[a._v("#")]),a._v(" 5、泛型与Object类型的区别？")]),a._v(" "),n("p",[a._v("（1）装箱：泛型与Object类型一样。（见字节码）"),n("br"),a._v("（2）拆箱：泛型与Object类型一样。（见字节码）")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("public class Main {\n\n    public static void main(String[] args) {\n        Node<Integer> n1 = new Node<>();\n        NodeObject n2 = new NodeObject();\n\n        n1.val = 1;\n        n2.val = 2;\n\n        int a1 = n1.val;\n        int a2 = (int) n2.val;\n\n    }\n\n    static class Node<T> {\n        T val;\n        Node<T> pre;\n        Node<T> next;\n    }\n\n    static class NodeObject {\n        Object val;\n        NodeObject pre;\n        NodeObject next;\n    }\n}\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br"),n("span",{staticClass:"line-number"},[a._v("24")]),n("br"),n("span",{staticClass:"line-number"},[a._v("25")]),n("br"),n("span",{staticClass:"line-number"},[a._v("26")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v('  public static void main(java.lang.String[]);\n    descriptor: ([Ljava/lang/String;)V\n    flags: ACC_PUBLIC, ACC_STATIC\n    Code:\n      stack=2, locals=5, args_size=1\n         0: new           #2                  // class Main$Node\n         3: dup\n         4: invokespecial #3                  // Method Main$Node."<init>":()V\n         7: astore_1\n         8: new           #4                  // class Main$NodeObject\n        11: dup\n        12: invokespecial #5                  // Method Main$NodeObject."<init>":()V\n        15: astore_2\n        16: aload_1\n        17: iconst_1\n        18: invokestatic  #6                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n        21: putfield      #7                  // Field Main$Node.val:Ljava/lang/Object;\n        24: aload_2\n        25: iconst_2\n        26: invokestatic  #6                  // Method java/lang/Integer.valueOf:(I)Ljava/lang/Integer;\n        29: putfield      #8                  // Field Main$NodeObject.val:Ljava/lang/Object;\n        32: aload_1\n        33: getfield      #7                  // Field Main$Node.val:Ljava/lang/Object;\n        36: checkcast     #9                  // class java/lang/Integer\n        39: invokevirtual #10                 // Method java/lang/Integer.intValue:()I\n        42: istore_3\n        43: aload_2\n        44: getfield      #8                  // Field Main$NodeObject.val:Ljava/lang/Object;\n        47: checkcast     #9                  // class java/lang/Integer\n        50: invokevirtual #10                 // Method java/lang/Integer.intValue:()I\n        53: istore        4\n        55: return\n      LineNumberTable:\n        line 4: 0\n        line 5: 8\n        line 7: 16\n        line 8: 24\n        line 10: 32\n        line 11: 43\n        line 13: 55\n      LocalVariableTable:\n        Start  Length  Slot  Name   Signature\n            0      56     0  args   [Ljava/lang/String;\n            8      48     1    n1   LMain$Node;\n           16      40     2    n2   LMain$NodeObject;\n           43      13     3    a1   I\n           55       1     4    a2   I\n      LocalVariableTypeTable:\n        Start  Length  Slot  Name   Signature\n            8      48     1    n1   LMain$Node<Ljava/lang/Integer;>;\n}\nSourceFile: "Main.java"\nInnerClasses:\n     static #13= #4 of #11; //NodeObject=class Main$NodeObject of class Main\n     static #15= #2 of #11; //Node=class Main$Node of class Main\n')])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br"),n("span",{staticClass:"line-number"},[a._v("20")]),n("br"),n("span",{staticClass:"line-number"},[a._v("21")]),n("br"),n("span",{staticClass:"line-number"},[a._v("22")]),n("br"),n("span",{staticClass:"line-number"},[a._v("23")]),n("br"),n("span",{staticClass:"line-number"},[a._v("24")]),n("br"),n("span",{staticClass:"line-number"},[a._v("25")]),n("br"),n("span",{staticClass:"line-number"},[a._v("26")]),n("br"),n("span",{staticClass:"line-number"},[a._v("27")]),n("br"),n("span",{staticClass:"line-number"},[a._v("28")]),n("br"),n("span",{staticClass:"line-number"},[a._v("29")]),n("br"),n("span",{staticClass:"line-number"},[a._v("30")]),n("br"),n("span",{staticClass:"line-number"},[a._v("31")]),n("br"),n("span",{staticClass:"line-number"},[a._v("32")]),n("br"),n("span",{staticClass:"line-number"},[a._v("33")]),n("br"),n("span",{staticClass:"line-number"},[a._v("34")]),n("br"),n("span",{staticClass:"line-number"},[a._v("35")]),n("br"),n("span",{staticClass:"line-number"},[a._v("36")]),n("br"),n("span",{staticClass:"line-number"},[a._v("37")]),n("br"),n("span",{staticClass:"line-number"},[a._v("38")]),n("br"),n("span",{staticClass:"line-number"},[a._v("39")]),n("br"),n("span",{staticClass:"line-number"},[a._v("40")]),n("br"),n("span",{staticClass:"line-number"},[a._v("41")]),n("br"),n("span",{staticClass:"line-number"},[a._v("42")]),n("br"),n("span",{staticClass:"line-number"},[a._v("43")]),n("br"),n("span",{staticClass:"line-number"},[a._v("44")]),n("br"),n("span",{staticClass:"line-number"},[a._v("45")]),n("br"),n("span",{staticClass:"line-number"},[a._v("46")]),n("br"),n("span",{staticClass:"line-number"},[a._v("47")]),n("br"),n("span",{staticClass:"line-number"},[a._v("48")]),n("br"),n("span",{staticClass:"line-number"},[a._v("49")]),n("br"),n("span",{staticClass:"line-number"},[a._v("50")]),n("br"),n("span",{staticClass:"line-number"},[a._v("51")]),n("br"),n("span",{staticClass:"line-number"},[a._v("52")]),n("br"),n("span",{staticClass:"line-number"},[a._v("53")]),n("br"),n("span",{staticClass:"line-number"},[a._v("54")]),n("br"),n("span",{staticClass:"line-number"},[a._v("55")]),n("br")])]),n("h4",{attrs:{id:"_6、protobuf"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6、protobuf"}},[a._v("#")]),a._v(" 6、protobuf")]),a._v(" "),n("h5",{attrs:{id:"protobuf编码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#protobuf编码"}},[a._v("#")]),a._v(" protobuf编码")]),a._v(" "),n("p",[a._v("protobuf采用TLV(tag-length-value)编码格式。")]),a._v(" "),n("blockquote",[n("p",[a._v("tag表示字段的唯一标识。\nlength表示value的长度，可选（非必须）。\nvalue表示数据本身的内容。")])]),a._v(" "),n("p",[n("img",{attrs:{src:"https://jiq-picture.yuxing138.top/615c4b357f0d00db995798897574b230/1699432175258-486f974d-da8d-4321-9a44-ec5f9ec37969.png#averageHue=%23f2eeee&clientId=u0b252354-d175-4&from=paste&height=252&id=u1f3ac77d&originHeight=826&originWidth=985&originalType=binary&ratio=2.5&rotation=0&showTitle=false&size=516429&status=done&style=none&taskId=ubdec28d3-7688-4f1e-866b-6f25a6b5855&title=&width=300",alt:"image.png"}})]),a._v(" "),n("h5",{attrs:{id:"wiretype介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#wiretype介绍"}},[a._v("#")]),a._v(" WireType介绍")]),a._v(" "),n("p",[n("img",{attrs:{src:"https://jiq-picture.yuxing138.top/615c4b357f0d00db995798897574b230/1699432752562-3e0f06a9-deab-4446-ad57-6e5cc9293e90.png#averageHue=%23f1f1f1&clientId=u0b252354-d175-4&from=paste&height=408&id=u31c1f6ce&originHeight=1020&originWidth=2330&originalType=binary&ratio=2.5&rotation=0&showTitle=false&size=903250&status=done&style=none&taskId=ub75ea2a1-9742-4af7-bafe-385c1196934&title=&width=932",alt:"image.png"}})]),a._v(" "),n("h5",{attrs:{id:"varint类型-变长"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#varint类型-变长"}},[a._v("#")]),a._v(" Varint类型（变长）")]),a._v(" "),n("p",[a._v("Varint类型的值采用变长编码。"),n("br"),n("img",{attrs:{src:"https://jiq-picture.yuxing138.top/615c4b357f0d00db995798897574b230/1699432813450-bcf459b4-d469-448d-8a12-8dbab1f8868d.png#averageHue=%23f2f2f2&clientId=u0b252354-d175-4&from=paste&height=412&id=u0b14cb7e&originHeight=1030&originWidth=2059&originalType=binary&ratio=2.5&rotation=0&showTitle=false&size=486898&status=done&style=none&taskId=u9580942f-aa5b-4456-a16d-9d789701cbc&title=&width=823.6",alt:"image.png"}})]),a._v(" "),n("h5",{attrs:{id:"length-delimited类型-定长"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#length-delimited类型-定长"}},[a._v("#")]),a._v(" Length-delimited类型（定长）")]),a._v(" "),n("p",[a._v("String类型的值采用"),n("code",[a._v("UTF-8")]),a._v("变长编码。如果字段都是字符串，则性能提升不大。")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("China -> 67 104 105 110 97\n中国人 -> 228 184 173 229 155 189 228 186 186\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br")])]),n("h4",{attrs:{id:"_7、bitmap"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7、bitmap"}},[a._v("#")]),a._v(" 7、Bitmap")]),a._v(" "),n("blockquote",[n("p",[a._v("bitmap使用场景：1、一亿用户周签到。2、一亿用户年登录状态。3、百亿QQ去重。")])]),a._v(" "),n("h5",{attrs:{id:"统计某个用户全年的登录日期"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#统计某个用户全年的登录日期"}},[a._v("#")]),a._v(" 统计某个用户全年的登录日期")]),a._v(" "),n("p",[a._v("统计某个用户全年的登录日期。每个用户占用365位空间，1表示登录，0表示未登录。"),n("br"),a._v("365/8=45.625。"),n("br"),a._v("1个用户占用"),n("code",[a._v("46字节")]),a._v("。"),n("br"),a._v("1百万用户占用"),n("code",[a._v("46字节*1百万=46m")]),a._v("。"),n("br"),a._v("1亿用户占用"),n("code",[a._v("46字节*1亿=4600m")]),a._v("。")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("echo flushall |redis-cli\n#参数1为用户,参数2为日期\n#peter第1,7,364天登陆\necho setbit kpeter 1 1 |redis-cli\necho setbit kpeter 7 1 |redis-cli\necho setbit kpeter 364 1 |redis-cli\necho strlen kpeter |redis-cli\n#全量,peter登陆数\necho bitcount kpeter |redis-cli\n#本周,peter登陆数\necho bitcount kpeter -2 -1 |redis-cli\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br")])]),n("h5",{attrs:{id:"统计某一天的登录用户"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#统计某一天的登录用户"}},[a._v("#")]),a._v(" 统计某一天的登录用户")]),a._v(" "),n("p",[a._v("统计某一天的登录用户。每个用户占用1位空间，1表示登录，0表示未登录。"),n("br"),a._v("1个用户占用"),n("code",[a._v("1位")]),a._v("。"),n("br"),a._v("1百万用户占用"),n("code",[a._v("1位*1百万=0.125m")]),a._v("。"),n("br"),a._v("1亿用户占用"),n("code",[a._v("1位*1亿=12.5m")]),a._v("。"),n("br"),a._v("比如：某东618做活动，618前一周有登录的用户送优惠券，要怎么统计？"),n("br"),a._v("比如：某多618做活动，618当天登录的用户送公仔，要准备多少礼物？")]),a._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[a._v("echo flushall |redis-cli\n#参数1为日期,参数2为用户\n#用户1,2,3,7登陆\necho setbit 20190101 1 1 |redis-cli\necho setbit 20190101 2 1 |redis-cli\necho setbit 20190102 1 1 |redis-cli\necho setbit 20190102 3 1 |redis-cli\necho setbit 20190110 7 1 |redis-cli\n\n#本天,用户登陆数\necho bitcount 20190101 |redis-cli\n#全量,用户登陆数(去重)\necho bitop or ko 20190101 20190102 20190110 |redis-cli\necho strlen ko |redis-cli\necho bitcount ko |redis-cli\n#本周,用户登陆数(去重)\necho bitop or ko 20190101 20190102 |redis-cli\necho strlen ko |redis-cli\necho bitcount ko 0 -1 |redis-cli\n")])]),a._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[a._v("1")]),n("br"),n("span",{staticClass:"line-number"},[a._v("2")]),n("br"),n("span",{staticClass:"line-number"},[a._v("3")]),n("br"),n("span",{staticClass:"line-number"},[a._v("4")]),n("br"),n("span",{staticClass:"line-number"},[a._v("5")]),n("br"),n("span",{staticClass:"line-number"},[a._v("6")]),n("br"),n("span",{staticClass:"line-number"},[a._v("7")]),n("br"),n("span",{staticClass:"line-number"},[a._v("8")]),n("br"),n("span",{staticClass:"line-number"},[a._v("9")]),n("br"),n("span",{staticClass:"line-number"},[a._v("10")]),n("br"),n("span",{staticClass:"line-number"},[a._v("11")]),n("br"),n("span",{staticClass:"line-number"},[a._v("12")]),n("br"),n("span",{staticClass:"line-number"},[a._v("13")]),n("br"),n("span",{staticClass:"line-number"},[a._v("14")]),n("br"),n("span",{staticClass:"line-number"},[a._v("15")]),n("br"),n("span",{staticClass:"line-number"},[a._v("16")]),n("br"),n("span",{staticClass:"line-number"},[a._v("17")]),n("br"),n("span",{staticClass:"line-number"},[a._v("18")]),n("br"),n("span",{staticClass:"line-number"},[a._v("19")]),n("br")])]),n("h5",{attrs:{id:"布隆过滤器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#布隆过滤器"}},[a._v("#")]),a._v(" 布隆过滤器")]),a._v(" "),n("p",[a._v("数据结构：bitmap位图。"),n("br"),a._v("写入：插入一个元素到布隆过滤器时，对元素进行多次哈希，将对应的bit位记为1。"),n("br"),a._v("读取：查询一个元素是否存在时，同样对元素进行多次哈希，如果对应的bit位其一为0，则元素一定不存在；如果所有bit位都为1，则元素可能存在（有误判率）。"),n("br"),a._v("布隆过滤器位图模式的两个问题："),n("br"),a._v("一个是误报，在查询时只能提供“一定不存在”与“可能存在”，因为不同元素可能被映射到相同bit位上，导致该位置1，那么一个不存在的元素可能会被误报为存在；"),n("br"),a._v("一个是漏报，如果删除了某个元素，导致bit位为0，那么本来存在的元素会被漏报成不存在。"),n("br"),a._v("漏报是严重问题，所以布隆过滤器不允许删除元素。可以错杀/误报不能放过/漏报。"),n("br"),n("img",{attrs:{src:"https://jiq-picture.yuxing138.top/615c4b357f0d00db995798897574b230/1699585789600-311cd938-ff57-4af6-9fc7-103a38f56966.png#averageHue=%23f4f4f4&clientId=u53df5559-fb00-4&from=paste&height=176&id=uf391a71d&originHeight=953&originWidth=1624&originalType=binary&ratio=2.5&rotation=0&showTitle=false&size=147163&status=done&style=none&taskId=u0dc01d72-0dca-45f6-96bd-fff5af55f8c&title=&width=300",alt:"image.png"}})]),a._v(" "),n("h5",{attrs:{id:"布谷鸟过滤器"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#布谷鸟过滤器"}},[a._v("#")]),a._v(" 布谷鸟过滤器")]),a._v(" "),n("p",[n("img",{attrs:{src:"https://jiq-picture.yuxing138.top/615c4b357f0d00db995798897574b230/1699604045787-fec12125-3f11-4588-a673-80aa12fe1966.png#averageHue=%23f4f4f4&clientId=u0fb823ba-658f-4&from=paste&height=249&id=u1b05df59&originHeight=911&originWidth=2196&originalType=binary&ratio=2.5&rotation=0&showTitle=false&size=134606&status=done&style=none&taskId=ua7ce5651-5bf3-41cd-9998-faaa081f9ce&title=&width=600",alt:"image.png"}}),n("br"),a._v("数据结构：哈希桶。"),n("br"),a._v("写入：插入一个元素时，计算出多个哈希值，在对应的槽位做标记。"),n("br"),a._v("读取：查询一个元素是否存在时，计算出对应的哈希值，检查对应的槽位上是否存在标记。"),n("br"),a._v("布谷鸟哈希算法：简单的布谷鸟哈希结构是一维数组，一个元素通过两个哈希函数映射到两个index位，（1）如果两个index位有一个空，将元素直接放进去；如果这两个index位都满了，随机踢走一个，自己霸占这个index位。（2）被踢走的元素需要判断自己的另一个index位是否空，如果空，自己挪进去；如果这个index位也被占据，则再将受害者的角色转嫁给这个元素，（3）这个新的受害者继续重复这个过程，直到所有的元素都找到index位。（4）这个过程不能无限重复，如果被踢的次数达到上限，则认为容器已满，插入失败。"),n("br"),a._v("布谷鸟过滤器算法：布谷鸟哈希算法是存储元素，布谷鸟过滤器算法是存储标记，所以有误判率。如果标记尽可能唯一（比如取"),n("code",[a._v("长度160位的sha1(key)的前后32位")]),a._v("作为标记），那么误判率会非常低，只是。。")]),a._v(" "),n("h4",{attrs:{id:"_9、roaringbitmap"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9、roaringbitmap"}},[a._v("#")]),a._v(" 9、RoaringBitmap")]),a._v(" "),n("p",[a._v("bitmap结构是数组。如果存储的两个key之间的偏移量为100w，那么bitmap的占用空间为100wbit，浪费大量空间。"),n("br"),a._v("RoaringBitmap结构是哈希表/哈希桶。将32位的整型int分为高16位short和低16位short，其中"),n("code",[a._v("高16位")]),a._v("使用数组存储，"),n("code",[a._v("低16位")]),a._v("有三种不同的container可选，ArrayContainer(数组容器)、BitmapContainer(位图容器)、RunContainer(步长容器)。"),n("br"),a._v("ArrayContainer：使用short[]存储。存储一个数据占用2字节，至多存储4096个数据，至多占用8kb。（注意：只能表示4096个数字。）"),n("br"),a._v("BitmapContainer：使用long[]作为bitmap。"),n("code",[a._v("2^16=65536")]),a._v("需要1024个long(64位)组成65536个bit，共占用8kb。（注意：bitmap固定长度为long[1024]，可以表示低16位所有65536个数字。）"),n("br"),a._v("RunContainer：使用short[]。对于连续出现的数字，只记录初始数字和后续数量。比如，数列"),n("code",[a._v("9,11,12,13,14,15,21,22")]),a._v("表示为"),n("code",[a._v("[9,0],[11,4],[21,1]")]),a._v("；源码使用"),n("code",[a._v("short[] valueslength")]),a._v("存储压缩后的数据。（注意：这个压缩算法与数据的连续性关系密切。连续的100个short，它能从200字节压缩为4字节，但完全不连续的100个short，压缩后反而从200字节变为400字节。）")])])}),[],!1,null,null,null);n.default=t.exports}}]);